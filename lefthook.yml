output:
  - success
  - failure

pre-commit:
  jobs:
    - name: Style
      run: golangci-lint run --fix
      glob: "*.go"
      stage_fixed: true

    - name: Build
      run: go build

    - name: Docs
      run: |
        mkdocs build --strict
        prettier --write "docs/**/*.md"
      glob: "{docs/**,mkdocs.yml}"
      stage_fixed: true

    - name: Actions
      run: |
        find ./.github -mindepth 2 -type f -name "*.yml" -exec action-validator --verbose {} +
        actionlint
        prettier --write ".github/**/*.{yml,yaml}"
      glob: ".github/**"
      stage_fixed: true
